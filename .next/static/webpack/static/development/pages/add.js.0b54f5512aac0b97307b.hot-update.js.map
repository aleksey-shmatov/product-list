{"version":3,"file":"static/webpack/static/development/pages/add.js.0b54f5512aac0b97307b.hot-update.js","sources":["webpack:///./components/AddProduct/AddShirt.tsx"],"sourcesContent":["import { gql, useMutation } from '@apollo/client';\nimport { useCallback, useState } from 'react';\nimport { AddShirtInput, AddShirtMutation, ShirtColor } from 'generated';\n\ntype Props = {\n  onDone: () => void;\n};\n\nexport const ADD_SHIRT_MUTATION = gql`\n  mutation AddShirt($input: AddShirtInput!) {\n    addShirt(data: $input) {\n      id\n      name\n      type\n      color\n      size\n    }\n  }\n`;\n\nexport const AddShirt: React.FunctionComponent<Props> = ({ onDone }: Props) => {\n  const [addShirt, { loading }] = useMutation<AddShirtMutation>(ADD_SHIRT_MUTATION);\n  const [error, setError] = useState('');\n  const handleSubmit = useCallback(\n    async (event: React.FormEvent) => {\n      const formData = new FormData(event.target as HTMLFormElement);\n      const input: AddShirtInput = {\n        color: formData.get('color').toString() as ShirtColor,\n        name: formData.get('name').toString(),\n        size: parseInt(formData.get('size').toString(), 10),\n      };\n      event.preventDefault();\n      try {\n        await addShirt({\n          variables: {\n            input,\n          },\n        });\n      } catch (e) {\n        setError('Failed to add shirt');\n        return;\n      }\n      onDone();\n    },\n    [onDone],\n  );\n  return (\n    <div>\n      <form className=\"form\" onSubmit={handleSubmit}>\n        <div className=\"form__fields\">\n          <label className=\"form__fields__label\" htmlFor=\"name\">\n            Name:\n          </label>\n          <input id=\"name\" name=\"name\" />\n          <label className=\"form__fields__label\" htmlFor=\"color\">\n            Color:\n          </label>\n          <select id=\"color\" name=\"color\">\n            {Object.values(ShirtColor).map((color) => (\n              <option key={color} value={color}>\n                {color}\n              </option>\n            ))}\n          </select>\n          <label className=\"form__fields__label\" htmlFor=\"size\">\n            Size:\n          </label>\n          <input id=\"size\" name=\"size\" min=\"1\" type=\"number\" />\n        </div>\n        {error && <div className=\"form__error\">{error}</div>}\n        <div className=\"form__actions\">\n          <button className=\"form__actions__item\" disabled={loading} type=\"submit\">\n            Add\n          </button>\n          <button className=\"form__actions__item\" disabled={loading} type=\"button\" onClick={onDone}>\n            Cancel\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAMA;AAYA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AAPA;AAAA;AAAA;AAUA;AACA;AADA;AADA;AACA;AAVA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAeA;AAfA;AACA;AADA;AAkBA;AACA;AAnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsBA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;;;;A","sourceRoot":""}