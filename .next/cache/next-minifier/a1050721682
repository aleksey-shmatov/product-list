{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{\"+Z6I\":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/add\",function(){return n(\"gO32\")}])},gO32:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return C}));var a,r,l=n(\"q1tI\"),o=n.n(l);!function(e){e.Pants=\"pants\",e.Shirt=\"shirt\"}(a||(a={})),function(e){e.Blue=\"blue\",e.Grey=\"grey\",e.White=\"white\"}(r||(r={}));var i=n(\"YFqc\"),s=n.n(i),c=n(\"o0o1\"),u=n.n(c),m=n(\"ODXe\"),d=n(\"h4VS\"),_=n(\"VX74\"),b=o.a.createElement;function f(){var e=Object(d.a)([\"\\n  mutation AddPants($input: AddPantsInput!) {\\n    addPants(data: $input) {\\n      id\\n      name\\n      type\\n      color\\n      width\\n      length\\n    }\\n  }\\n\"]);return f=function(){return e},e}var p=Object(_.gql)(f()),h=function(e){var t=e.onDone,n=Object(_.useMutation)(p),a=Object(m.a)(n,2),r=a[0],o=a[1].loading,i=Object(l.useState)(\"\"),s=i[0],c=i[1],d=Object(l.useCallback)((function(e){var n,a;return u.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n=new FormData(e.target),a={color:n.get(\"color\").toString(),name:n.get(\"name\").toString(),width:parseInt(n.get(\"width\").toString(),10),length:parseInt(n.get(\"length\").toString(),10)},e.preventDefault(),l.prev=3,l.next=6,u.a.awrap(r({variables:{input:a}}));case 6:l.next=12;break;case 8:return l.prev=8,l.t0=l.catch(3),c(\"Failed to add shirt\"),l.abrupt(\"return\");case 12:t();case 13:case\"end\":return l.stop()}}),null,null,[[3,8]],Promise)}),[t]);return b(\"div\",null,b(\"form\",{className:\"form\",onSubmit:d},b(\"div\",{className:\"form__fields\"},b(\"label\",{className:\"form__fields__label\",htmlFor:\"name\"},\"Name:\"),b(\"input\",{name:\"name\"}),b(\"label\",{className:\"form__fields__label\",htmlFor:\"color\"},\"Color:\"),b(\"input\",{name:\"color\",minLength:1}),b(\"label\",{className:\"form__fields__label\",htmlFor:\"color\"},\"Width:\"),b(\"input\",{name:\"width\",min:1,type:\"number\"}),b(\"label\",{className:\"form__fields__label\",htmlFor:\"color\"},\"Length:\"),b(\"input\",{name:\"length\",min:1,type:\"number\"})),s&&b(\"div\",{className:\"form__error\"},s),b(\"div\",{className:\"form__actions\"},b(\"button\",{className:\"form__actions__item\",disabled:o,type:\"submit\"},\"Add\"),b(\"button\",{className:\"form__actions__item\",disabled:o,type:\"button\",onClick:t},\"Cancel\"))))},v=o.a.createElement;function g(){var e=Object(d.a)([\"\\n  mutation AddShirt($input: AddShirtInput!) {\\n    addShirt(data: $input) {\\n      id\\n      name\\n      type\\n      color\\n      size\\n    }\\n  }\\n\"]);return g=function(){return e},e}var N=Object(_.gql)(g()),w=function(e){var t=e.onDone,n=Object(_.useMutation)(N),a=Object(m.a)(n,2),o=a[0],i=a[1].loading,s=Object(l.useState)(\"\"),c=s[0],d=s[1],b=Object(l.useCallback)((function(e){var n,a;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=new FormData(e.target),a={color:n.get(\"color\").toString(),name:n.get(\"name\").toString(),size:parseInt(n.get(\"size\").toString(),10)},e.preventDefault(),r.prev=3,r.next=6,u.a.awrap(o({variables:{input:a}}));case 6:r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(3),d(\"Failed to add shirt\"),r.abrupt(\"return\");case 12:t();case 13:case\"end\":return r.stop()}}),null,null,[[3,8]],Promise)}),[t]);return v(\"div\",null,v(\"form\",{className:\"form\",onSubmit:b},v(\"div\",{className:\"form__fields\"},v(\"label\",{className:\"form__fields__label\",htmlFor:\"name\"},\"Name:\"),v(\"input\",{id:\"name\",name:\"name\"}),v(\"label\",{className:\"form__fields__label\",htmlFor:\"color\"},\"Color:\"),v(\"select\",{id:\"color\",name:\"color\"},Object.values(r).map((function(e){return v(\"option\",{key:e,value:e},e)}))),v(\"label\",{className:\"form__fields__label\",htmlFor:\"size\"},\"Size:\"),v(\"input\",{id:\"size\",name:\"size\",min:\"1\",type:\"number\"})),c&&v(\"div\",{className:\"form__error\"},c),v(\"div\",{className:\"form__actions\"},v(\"button\",{className:\"form__actions__item\",disabled:i,type:\"submit\"},\"Add\"),v(\"button\",{className:\"form__actions__item\",disabled:i,type:\"button\",onClick:t},\"Cancel\"))))},S=o.a.createElement,O=function(){var e=Object(l.useState)(null),t=e[0],n=e[1],r=Object(l.useCallback)((function(){n(a.Shirt)}),[]),o=Object(l.useCallback)((function(){n(a.Pants)}),[]),i=Object(l.useCallback)((function(){n(null)}),[]);return S(\"div\",null,S(\"div\",{className:\"page-title\"},S(\"h1\",{className:\"page-title__header\"},\"Add new \",t||\"product\"),S(s.a,{href:\"/\",as:\"/\"},S(\"a\",{className:\"page-title__action\"},\"All products\"))),t===a.Shirt&&S(w,{onDone:i}),t===a.Pants&&S(h,{onDone:i}),!t&&S(\"div\",{className:\"add-actions\"},S(\"button\",{className:\"add-actions__button\",onClick:r},\"Add Shirt\"),S(\"button\",{className:\"add-actions__button\",onClick:o},\"Add Pants\")))},j=n(\"8Kt/\"),k=n.n(j),y=o.a.createElement;function C(){return y(\"div\",{className:\"container\"},y(k.a,null,y(\"title\",null,\"Add product\")),y(O,null))}}},[[\"+Z6I\",1,2,0,3,4]]]);"}