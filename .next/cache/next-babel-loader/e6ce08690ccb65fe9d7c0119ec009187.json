{"ast":null,"code":"var _jsxFileName = \"/Users/aleksey/Dev/Trash/shopping-cart/components/ProductsList/ProductsList.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { gql, useMutation, useQuery } from '@apollo/client';\nimport { useCallback } from 'react';\nimport { ProductItem } from './ProductItem';\nexport const PRODUCTS_QUERY = gql`\n  query products {\n    products {\n      id\n      name\n      type\n      ... on Shirt {\n        shirtColor: color\n        size\n      }\n      ... on Pants {\n        color\n        width\n        length\n      }\n    }\n  }\n`;\nexport const REMOVE_PRODUCT_MUTATION = gql`\n  mutation removeProduct($id: ID!) {\n    removeProduct(id: $id)\n  }\n`;\nexport const ProductList = () => {\n  const {\n    data\n  } = useQuery(PRODUCTS_QUERY, {\n    fetchPolicy: 'cache-only'\n  });\n  const [removeProduct] = useMutation(REMOVE_PRODUCT_MUTATION);\n  const handleRemoveProduct = useCallback(id => {\n    removeProduct({\n      variables: {\n        id\n      }\n    });\n  }, []);\n  const products = data && data.products;\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, products && products.map(product => __jsx(ProductItem, {\n    key: product.id,\n    product: product,\n    onRemove: handleRemoveProduct,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }))));\n};","map":{"version":3,"sources":["/Users/aleksey/Dev/Trash/shopping-cart/components/ProductsList/ProductsList.tsx"],"names":["gql","useMutation","useQuery","useCallback","ProductItem","PRODUCTS_QUERY","REMOVE_PRODUCT_MUTATION","ProductList","data","fetchPolicy","removeProduct","handleRemoveProduct","id","variables","products","map","product"],"mappings":";;;AAAA,SAASA,GAAT,EAAcC,WAAd,EAA2BC,QAA3B,QAA2C,gBAA3C;AACA,SAASC,WAAT,QAA4B,OAA5B;AACA,SAASC,WAAT,QAA4B,eAA5B;AAEA,OAAO,MAAMC,cAAc,GAAGL,GAAI;;;;;;;;;;;;;;;;;CAA3B;AAmBP,OAAO,MAAMM,uBAAuB,GAAGN,GAAI;;;;CAApC;AAMP,OAAO,MAAMO,WAAoC,GAAG,MAAM;AACxD,QAAM;AAAEC,IAAAA;AAAF,MAAWN,QAAQ,CAACG,cAAD,EAAiB;AACxCI,IAAAA,WAAW,EAAE;AAD2B,GAAjB,CAAzB;AAGA,QAAM,CAACC,aAAD,IAAkBT,WAAW,CAACK,uBAAD,CAAnC;AACA,QAAMK,mBAAmB,GAAGR,WAAW,CAAES,EAAD,IAAgB;AACtDF,IAAAA,aAAa,CAAC;AACZG,MAAAA,SAAS,EAAE;AACTD,QAAAA;AADS;AADC,KAAD,CAAb;AAKD,GANsC,EAMpC,EANoC,CAAvC;AAOA,QAAME,QAAQ,GAAGN,IAAI,IAAIA,IAAI,CAACM,QAA9B;AACA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,QAAQ,IAAIA,QAAQ,CAACC,GAAT,CAAcC,OAAD,IACxB,MAAC,WAAD;AAAa,IAAA,GAAG,EAAEA,OAAO,CAACJ,EAA1B;AAA8B,IAAA,OAAO,EAAEI,OAAvC;AAAgD,IAAA,QAAQ,EAAEL,mBAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADW,CADf,CADF,CADF;AASD,CAtBM","sourcesContent":["import { gql, useMutation, useQuery } from '@apollo/client';\nimport { useCallback } from 'react';\nimport { ProductItem } from './ProductItem';\n\nexport const PRODUCTS_QUERY = gql`\n  query products {\n    products {\n      id\n      name\n      type\n      ... on Shirt {\n        shirtColor: color\n        size\n      }\n      ... on Pants {\n        color\n        width\n        length\n      }\n    }\n  }\n`;\n\nexport const REMOVE_PRODUCT_MUTATION = gql`\n  mutation removeProduct($id: ID!) {\n    removeProduct(id: $id)\n  }\n`;\n\nexport const ProductList: React.FunctionComponent = () => {\n  const { data } = useQuery(PRODUCTS_QUERY, {\n    fetchPolicy: 'cache-only',\n  });\n  const [removeProduct] = useMutation(REMOVE_PRODUCT_MUTATION);\n  const handleRemoveProduct = useCallback((id: number) => {\n    removeProduct({\n      variables: {\n        id,\n      },\n    });\n  }, []);\n  const products = data && data.products;\n  return (\n    <div>\n      <ul>\n        {products && products.map((product) => (\n          <ProductItem key={product.id} product={product} onRemove={handleRemoveProduct}></ProductItem>\n        ))}\n      </ul>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}