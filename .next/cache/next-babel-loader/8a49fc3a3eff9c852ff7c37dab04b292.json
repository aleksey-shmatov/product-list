{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { gql, useMutation } from '@apollo/client';\nimport { useCallback, useState } from 'react';\nexport const ADD_PANTS_MUTATION = gql`\n  mutation AddPants($input: AddPantsInput!) {\n    addPants(data: $input) {\n      id\n      name\n      type\n      color\n      width\n      length\n    }\n  }\n`;\nexport const AddPants = ({\n  onDone\n}) => {\n  const [addPants, {\n    loading\n  }] = useMutation(ADD_PANTS_MUTATION);\n  const {\n    0: error,\n    1: setError\n  } = useState('');\n  const handleSubmit = useCallback(async event => {\n    const formData = new FormData(event.target);\n    const input = {\n      color: formData.get('color').toString(),\n      name: formData.get('name').toString(),\n      width: parseInt(formData.get('width').toString(), 10),\n      length: parseInt(formData.get('length').toString(), 10)\n    };\n    event.preventDefault();\n\n    try {\n      await addPants({\n        variables: {\n          input\n        }\n      });\n    } catch (e) {\n      setError('Failed to add shirt');\n      return;\n    }\n\n    onDone();\n  }, [onDone]);\n  return __jsx(\"div\", null, __jsx(\"form\", {\n    className: \"form\",\n    onSubmit: handleSubmit\n  }, __jsx(\"div\", {\n    className: \"form__fields\"\n  }, __jsx(\"label\", {\n    className: \"form__fields__label\",\n    htmlFor: \"name\"\n  }, \"Name:\"), __jsx(\"input\", {\n    name: \"name\"\n  }), __jsx(\"label\", {\n    className: \"form__fields__label\",\n    htmlFor: \"color\"\n  }, \"Color:\"), __jsx(\"input\", {\n    name: \"color\",\n    minLength: 1\n  }), __jsx(\"label\", {\n    className: \"form__fields__label\",\n    htmlFor: \"color\"\n  }, \"Width:\"), __jsx(\"input\", {\n    name: \"width\",\n    min: 1,\n    type: \"number\"\n  }), __jsx(\"label\", {\n    className: \"form__fields__label\",\n    htmlFor: \"color\"\n  }, \"Length:\"), __jsx(\"input\", {\n    name: \"length\",\n    min: 1,\n    type: \"number\"\n  })), error && __jsx(\"div\", {\n    className: \"form__error\"\n  }, error), __jsx(\"div\", {\n    className: \"form__actions\"\n  }, __jsx(\"button\", {\n    className: \"form__actions__item\",\n    disabled: loading,\n    type: \"submit\"\n  }, \"Add\"), __jsx(\"button\", {\n    className: \"form__actions__item\",\n    disabled: loading,\n    type: \"button\",\n    onClick: onDone\n  }, \"Cancel\"))));\n};","map":null,"metadata":{},"sourceType":"module"}